<div
  class="sky-flyout sky-shadow"
  tabindex="-1"
  [attr.role]="config?.ariaRole"
  [attr.aria-describedby]="config?.ariaDescribedBy"
  [attr.aria-labelledby]="config?.ariaLabelledBy"
  [ngClass]="{ 'sky-flyout-hidden': !isOpen && !isOpening }"
  (@flyoutState.done)="animationDone($event)"
  [@flyoutState]="getAnimationState()"
  [style.width.px]="flyoutWidth">

  <button
    type="button"
    class="sky-flyout-resize-handle"
    aria-hidden="true"
    role="separator"
    tabindex="-1"
    (mousedown)="onMouseDown($event)">
  </button>

  <div class="sky-flyout-header" #flyoutHeader>
    <div class="sky-flyout-header-content"></div>
    <div class="sky-flyout-header-buttons">
      <ng-container
        *ngTemplateOutlet="permalinkTemplate">
      </ng-container>
      <button
        type="button"
        class="sky-btn sky-btn-default sky-flyout-btn-close"
        (click)="onCloseButtonClick()"
        [attr.aria-label]="'flyout_close' | skyResources">
        <i class="fa fa-close" aria-hidden="true"></i>
      </button>
    </div>
  </div>
  <div class="sky-flyout-content">
    <div #target></div>
  </div>
</div>

<ng-template
  [ngIf]="config?.permalink"
  #permalinkTemplate>

  <ng-template
    [ngIf]="config.permalink?.url">
    <a
      class="sky-btn sky-btn-default sky-flyout-btn-permalink"
      [href]="config.permalink.url">
      {{ permalinkLabel }}
    </a>
  </ng-template>

  <ng-template
    [ngIf]="config.permalink?.route">
    <a
      class="sky-btn sky-btn-default sky-flyout-btn-permalink"
      (click)="navigate(config.permalink.route)">
      {{ permalinkLabel }}
    </a>
  </ng-template>
</ng-template>
